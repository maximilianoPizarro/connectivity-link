apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: dotnet-demo

resources:
  # RBAC for Backstage to read Tekton resources (must be created first)
  - backstage-rbac.yaml
  # PVCs for workspaces (must be created first)
  - pvc-source.yaml
  - pvc-cache.yaml
  # Tasks must be created before Pipeline (sync-wave: 0)
  - tekton-tasks.yaml
  # Pipeline depends on Tasks (sync-wave: 0)
  - tekton-pipeline.yaml
  # Uncomment the line below if you want to use a static secret file
  - nexus-secret.yaml

